load("E:/Mammoth model/data/GlobalParams.RData")
load("E:/Mammoth model/data/GlobalParams.RData")
check <-load("E:/Mammoth model/data/GlobalParams.RData")
check
rm(list=ls())
KEVIN = TRUE # FALSE  # TRUE
DAMIEN = FALSE
HRA_LAB = FALSE # TRUE
NREPS <- 5     # number of samples to draw from the multivariate uniform prior (LHS) per niche breadth value
NicheBreadths = c(40)                         # NOTE: changed to loop through single NB for testing
KEVIN = TRUE # FALSE  # TRUE
DAMIEN = FALSE
HRA_LAB = FALSE # TRUE
NREPS <- 5     # number of samples to draw from the multivariate uniform prior (LHS) per niche breadth value
NicheBreadths = c(40)                         # NOTE: changed to loop through single NB for testing
if(KEVIN) CODE_DIRECTORY <<- "C:\\Users\\Kevin\\GIT\\paleo-models-sandbox"       # code directory should be your local copy of the GitHub repository
if(HRA_LAB) CODE_DIRECTORY <<- "C:\\Users\\Akcakaya\\Desktop\\Mammoth Model\\paleo-models-sandbox"
if(DAMIEN) CODE_DIRECTORY <<-  "C:\\Users\\Damien Fordham\\Documents\\GitHub\\paleo-models-sandbox"
CODE_DIRECTORY
KEVIN_LAB = TRUE
if(KEVIN_LAB) CODE_DIRECTORY <- "E:\\GIT\\paleo-models-sandbox"
setwd(CODE_DIRECTORY)
source("Rfunctions_PALEO_UTILITY.r")     # Load all functions for Paleo project
source("Rfunction_PALEO_MAKEMPs.r")
source("Rfunction_PALEO_RUNMPs.r")
source("Rfunction_PALEO_EXTRACTRESULTS.r")
SetUpWorkspace()   # function loads packages and sets up the workspace...
SetUpWorkspace <- function(){
if(KEVIN) BASE_DIRECTORY <<- "C:\\Users\\Kevin\\Dropbox\\Damien Fordham\\Mammoth Model"
if(DAMIEN) BASE_DIRECTORY <<- "E:\\Mammoth model"
if(HRA_LAB) BASE_DIRECTORY <<- "C:\\Users\\Akcakaya\\Desktop\\Mammoth Model"
if(KEVIN_LAB) BASE_DIRECTORY <<- "E:\\Dropbox\\Damien Fordham\\Mammoth Model"
######## BELOW DOESNT NEED TO BE CHANGED
DATA_DIRECTORY <<- paste(BASE_DIRECTORY,"\\data",sep="")                         # directory for storing relevant data (CSV files)
if(is.na(file.info(DATA_DIRECTORY)[1,"isdir"])) dir.create(DATA_DIRECTORY)
MP_DIRECTORY <<- paste(BASE_DIRECTORY,"\\mpfiles",sep="")                        # directory for storing and running MP files
if(is.na(file.info(MP_DIRECTORY)[1,"isdir"])) dir.create(MP_DIRECTORY)
EXE_DIRECTORY <<- paste(BASE_DIRECTORY,"\\EXEs",sep="")                        # directory for storing DLLs and EXE files
if(is.na(file.info(EXE_DIRECTORY)[1,"isdir"])) dir.create(EXE_DIRECTORY)
FIGURES_DIRECTORY <<- paste(BASE_DIRECTORY,"\\figures\\raw",sep="")              # directory for storing raw figures
if(is.na(file.info(FIGURES_DIRECTORY)[1,"isdir"])) dir.create(FIGURES_DIRECTORY)
HS_DIRECTORY <<- paste(BASE_DIRECTORY,"\\hs",sep="")                             # directory for storing habitat suitability files (used for creating KCH files )
if(is.na(file.info(HS_DIRECTORY)[1,"isdir"])) dir.create(HS_DIRECTORY)
KCH_DIRECTORY <<- paste(BASE_DIRECTORY,"\\KCHFiles",sep="")                            # directory for storing habitat suitability files
if(is.na(file.info(KCH_DIRECTORY)[1,"isdir"])) dir.create(KCH_DIRECTORY)
RESULTS_DIRECTORY <<- paste(BASE_DIRECTORY,"\\results",sep="")                             # directory for storing habitat suitability files (used for creating KCH files )
if(is.na(file.info(RESULTS_DIRECTORY)[1,"isdir"])) dir.create(RESULTS_DIRECTORY)
############
## GLOBAL PARAMETERS
TIMESTEPS <<- 3201 # set according to length of the simulation
GENTIME <<- 25
MP_TEMPLATE <<- "NewMammothTemplate.mp"      # template MP file
DLL_FILENAME <<- "Mammoth2.dll"    # KTS: changed to "Mammoth2.dll" from "Mammoth.dll"
VERBOSE=FALSE
# save global params
setwd(DATA_DIRECTORY)
save(NREPS,TIMESTEPS,GENTIME,MP_TEMPLATE,file="GlobalParams.RData")
LoadPackages()  # load all packages
LoadData()      # load all data
}
SetUpWorkspace()   # function loads packages and sets up the workspace...
num_cores <- detectCores() - 1   # for setting up cluster... leave one core free for windows background processes?
num_cores
num_cores <- detectCores() - 2   # for setting up cluster... leave one core free for windows background processes?
num_cores <- detectCores() - 1   # for setting up cluster... leave one core free for windows background processes?
DistBins <- DispersalPreCalculations()
MP_DIRECTORY
